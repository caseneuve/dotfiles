#!/bin/bash

# Path:        ~/.dotfiles/i3/bin/i3loadaverage.sh
# Created:     16.07.18, 15:16    @x200
# Last update: 26.07.18, 19:35:55 @x200

# Doc:
LOAD="$(cut -d ' ' -f1 /proc/loadavg)"
CPUS="$(nproc)"
BGCOLOR=#191f26 # was: #00001f26
WEIGHT=normal
FGCOLOR=#C0392B

#color if LOAD is too high
if [[ $(echo "$CPUS <= $LOAD" | bc) = "1" ]]; then
    echo "<span bgcolor='$BGCOLOR'><span color='$FGCOLOR'><span weight='$WEIGHT'> $LOAD</span></span></span>"
else
    echo " $LOAD"
fi

# awk -v cpus=$cpus -v cpuload=$load "
#     BEGIN {
#         if (cpus <= cpuload) {
#             echo \"<span color='#FF0000'> $load </span>\" 
#             exit 33;
#         }
#     }
# "

